<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="0">
    <title>Axiom & Crucible - Weapon Selection</title>
    <link rel="stylesheet" href="styles.css?v=2.0">
</head>
<body>
    <!-- Top Navigation Bar -->
    <nav class="topbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h1>Axiom & Crucible</h1>
            </div>
            <div class="nav-links">
                <a href="index.html" class="active">Weapon Selection</a>
                <a href="rules.html">Rules</a>
                <a href="character-sheet.html">Character Sheet</a>
                <a href="combat.html">Combat Guide</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <header class="page-header">
            <h1>Tier 0 Weapon Selection</h1>
            <p class="subtitle">Choose your Base Weapon Platform and Tier 0 Module</p>
        </header>

        <!-- Selection Interface -->
        <div class="selection-grid">
            <!-- Platform Selection -->
            <section class="selection-section">
                <h2>Base Weapon Platform</h2>
                <div class="platform-cards">
                    <div class="weapon-card" data-type="platform" data-id="ranged">
                        <h3>Ranged Platform</h3>
                        <div class="weapon-stats">
                            <span class="range">Range: Medium</span>
                        </div>
                        <div class="weapon-description">
                            <p><strong>Role:</strong> Safe pressure, positioning, sustained fire</p>
                            <h4>Engagement Penalty:</h4>
                            <ul>
                                <li>Attacks against Engaged targets: +2 Difficulty</li>
                                <li>Cannot Critically Succeed against Engaged targets</li>
                            </ul>
                            <h4>Mobility Constraint:</h4>
                            <ul>
                                <li>Move + Attack in same turn: +1 Difficulty</li>
                            </ul>
                        </div>
                    </div>

                    <div class="weapon-card" data-type="platform" data-id="melee">
                        <h3>Melee Platform</h3>
                        <div class="weapon-stats">
                            <span class="range">Range: Engaged</span>
                        </div>
                        <div class="weapon-description">
                            <p><strong>Role:</strong> Control, disruption, decisive engagement</p>
                            <h4>Close Control (Passive):</h4>
                            <p>On Clean Success, choose to increase or decrease target Instability by 1</p>
                            <h4>Opportunity Pressure:</h4>
                            <p>Free attack at +2 Difficulty if target disengages without spending an action</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Module Selection -->
            <section class="selection-section">
                <h2>Tier 0 Module</h2>
                <div class="module-categories">
                    <div class="category">
                        <h3>Universal Modules</h3>
                        <div class="module-cards">
                            <div class="weapon-card module-card" data-type="module" data-id="stability" data-category="universal">
                                <h4>Stability Module</h4>
                                <p class="flavor">"We don't spike. We converge."</p>
                                <p><strong>Effect:</strong> Replace d20 with 2d10 for attack rolls</p>
                            </div>

                            <div class="weapon-card module-card" data-type="module" data-id="calibration" data-category="universal">
                                <h4>Calibration Module</h4>
                                <p class="flavor">"Every miss tells us something."</p>
                                <p><strong>Effect:</strong> On Partial Failure, reduce next attack Difficulty by 1 (stacking). Resets on successful hit.</p>
                            </div>

                            <div class="weapon-card module-card" data-type="module" data-id="heat-sink" data-category="universal">
                                <h4>Heat Sink Module</h4>
                                <p class="flavor">"The system bleeds pressure."</p>
                                <p><strong>Effect:</strong> Once per round, reduce Instability gained by 1 (minimum 0)</p>
                            </div>

                            <div class="weapon-card module-card" data-type="module" data-id="safety-interlock" data-category="universal">
                                <h4>Safety Interlock</h4>
                                <p class="flavor">"The system refuses to die."</p>
                                <p><strong>Effect:</strong> Once per scene, downgrade Hard Failure to Partial Failure</p>
                            </div>
                        </div>
                    </div>

                    <div class="category" id="ranged-modules" style="display: none;">
                        <h3>Ranged-Only Modules</h3>
                        <div class="module-cards">
                            <div class="weapon-card module-card" data-type="module" data-id="targeting-gyroscope" data-category="ranged">
                                <h4>Targeting Gyroscope</h4>
                                <p class="flavor">"Hold still. Or don't."</p>
                                <p><strong>Effect:</strong> Ignore the +1 Difficulty penalty for moving and attacking in the same turn</p>
                            </div>

                            <div class="weapon-card module-card" data-type="module" data-id="focus-lens" data-category="ranged">
                                <h4>Focus Lens</h4>
                                <p class="flavor">"Depth over force."</p>
                                <p><strong>Effect:</strong> On Critical Success, increase Severity by 1 tier (max Severe). Cannot increase Severity on Partial Failures.</p>
                            </div>
                        </div>
                    </div>

                    <div class="category" id="melee-modules" style="display: none;">
                        <h3>Melee-Only Modules</h3>
                        <div class="module-cards">
                            <div class="weapon-card module-card" data-type="module" data-id="momentum-actuator" data-category="melee">
                                <h4>Momentum Actuator</h4>
                                <p class="flavor">"Once contact is made, it doesn't stop."</p>
                                <p><strong>Effect:</strong> On hit, gain 1 Momentum. Spend Momentum to reduce next attack Difficulty by 1 or add +1 Strain to target. Momentum clears if you miss or disengage.</p>
                            </div>

                            <div class="weapon-card module-card" data-type="module" data-id="force-lock-servo" data-category="melee">
                                <h4>Force-Lock Servo</h4>
                                <p class="flavor">"They don't get to choose anymore."</p>
                                <p><strong>Effect:</strong> On Clean Success, target cannot disengage next turn without spending an action</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Selection Summary -->
        <section class="selection-summary">
            <h2>Your Weapon Configuration</h2>
            <div class="summary-content">
                <div class="selected-platform">
                    <h3>Platform</h3>
                    <div id="platform-display">
                        <p class="placeholder">Select a platform above</p>
                    </div>
                </div>
                <div class="selected-module">
                    <h3>Module</h3>
                    <div id="module-display">
                        <p class="placeholder">Select a module above</p>
                    </div>
                </div>
            </div>
            <button id="export-build" class="export-button" disabled>Export Build</button>
        </section>

        <!-- Core Combat Stats -->
        <section class="combat-stats">
            <h2>Core Combat Assumptions</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-label">Base Damage:</span>
                    <span class="stat-value">1d6</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Base Difficulty:</span>
                    <span class="stat-value">10</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Base Instability:</span>
                    <span class="stat-value">0</span>
                </div>
                <div class="stat-note">
                    <p>Damage is converted to Severity, not subtracted from HP</p>
                </div>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
